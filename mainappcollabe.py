{"cells":[{"cell_type":"markdown","source":["There are two ways to use multiple .py files in Google Colab:\n","\n","1. **Import the files as modules.** This is the simplest way to do it. You can use the `import` statement to import a .py file as a module. For example, if you have a .py file called `my_module.py`, you can import it as follows:"],"metadata":{"id":"bu56dPPxRVEn"}},{"cell_type":"markdown","source":["# New section"],"metadata":{"id":"DYi1XX4YRWp8"}},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"RFpxFV0kRZ7E","executionInfo":{"status":"ok","timestamp":1687071259203,"user_tz":-60,"elapsed":2104,"user":{"displayName":"Fuzzy Ducklings (Duck Darzin)","userId":"18276966331284917102"}},"outputId":"1f4aaeb9-277a-4ef5-8f9e-91ac09cd1baf"},"execution_count":2,"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"]}]},{"cell_type":"code","source":["!pip install chat-downloader vaderSentiment nltk"],"metadata":{"id":"hppm7A25SjUj"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["%cd /content/drive/MyDrive/StreamMateyOBS/StreamMateySentinment/"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"yaZARHVeVnaw","executionInfo":{"status":"ok","timestamp":1687072928383,"user_tz":-60,"elapsed":370,"user":{"displayName":"Fuzzy Ducklings (Duck Darzin)","userId":"18276966331284917102"}},"outputId":"7f86f954-62f7-4773-bb0d-fd5d84355195"},"execution_count":4,"outputs":[{"output_type":"stream","name":"stdout","text":["/content/drive/MyDrive/StreamMateyOBS/StreamMateySentinment\n"]}]},{"cell_type":"code","source":["import asyncio\n","import logging\n","import chat_connector\n"],"metadata":{"id":"hX_wWdlJUZjy","executionInfo":{"status":"ok","timestamp":1687072931324,"user_tz":-60,"elapsed":359,"user":{"displayName":"Fuzzy Ducklings (Duck Darzin)","userId":"18276966331284917102"}}},"execution_count":5,"outputs":[]},{"cell_type":"code","source":["import sentiment_analyzer\n","import sentiment_meter\n","import database\n"],"metadata":{"id":"PGGiB8CXXp-X","executionInfo":{"status":"ok","timestamp":1687072936373,"user_tz":-60,"elapsed":1188,"user":{"displayName":"Fuzzy Ducklings (Duck Darzin)","userId":"18276966331284917102"}}},"execution_count":6,"outputs":[]},{"cell_type":"code","source":["from chat_downloader import ChatDownloader\n","\n","url = 'https://www.youtube.com/watch?v=jfKfPfyJRdk'\n","chat = ChatDownloader().get_chat(url)       # create a generator\n","for message in chat:                        # iterate over messages\n","    chat.print_formatted(message)"],"metadata":{"id":"QH25oXfSWQTB"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["import asyncio\n","import logging\n","import os\n","from sqlite3 import DatabaseError\n","from chat_connector import ChatConnector\n","from sentiment_analyzer import SentimentAnalyzer\n","from sentiment_meter import SentimentMeter\n","from database import Database\n","\n","# Set up logging\n","logging.basicConfig(level=logging.INFO)\n","logger = logging.getLogger(__name__)\n","\n","# Sentiment analyzer parameters\n","SENTIMENT_THRESHOLD = 0.05  # positive sentiment score\n","\n","# Database parameters\n","DATABASE_PATH = 'chat_messages.db'\n","\n","async def main():\n","    # Initialize components\n","    database = Database(DATABASE_PATH)\n","    sentiment_analyzer = SentimentAnalyzer(database)\n","    sentiment_meter = SentimentMeter()\n","\n","    # Connect to the chosen channel set by the user when they first ran the program.\n","    StreamingService = os.getenv('STREAMING_SERVICE', 'youtube')\n","    StreamingChannel = os.getenv('STREAMING_CHANNEL', 'fuzzyduckstv')\n","\n","    chat_connector = ChatConnector(StreamingService, StreamingChannel)\n","    chat_connector.connect_to_chat()\n","    print(\"got here\")\n","    # Main loop\n","    while True:\n","        try:\n","            # Get a chat message\n","            chat_data = chat_connector.get_message()\n","            message = chat_data['message']\n","            user = chat_data['author']\n","            timestamp = chat_data['timestamp']\n","\n","            # Analyze the sentiment of the message\n","            sentiment_score = sentiment_analyzer.analyze_sentiment(message, user, timestamp)\n","\n","            # Update the sentiment meter with the new sentiment score\n","            sentiment_meter.update(sentiment_score)\n","\n","            # Wait a bit before the next iteration\n","            await asyncio.sleep(0.1)\n","        except DatabaseError as e:\n","            logger.error(f\"A database error occurred: {e}\")\n","            logger.info(\"Attempting to reconnect to the database...\")\n","            database.reconnect()\n","        except Exception as e:\n","            logger.error(f\"An error occurred: {e}\")\n","            break\n","        except KeyboardInterrupt:\n","            logger.info(\"Stopping application...\")\n","            break\n","\n","\n","    await main()\n"],"outputs":[],"execution_count":7,"metadata":{"id":"6wtZ09vvRVEp","executionInfo":{"status":"ok","timestamp":1687072951518,"user_tz":-60,"elapsed":782,"user":{"displayName":"Fuzzy Ducklings (Duck Darzin)","userId":"18276966331284917102"}}}},{"cell_type":"code","source":["from chat_downloader import ChatDownloader\n","\n","url = 'https://www.youtube.com/watch?v=jfKfPfyJRdk'\n","chat = ChatDownloader().get_chat(url)       # create a generator\n","for message in chat:                        # iterate over messages\n","    chat.print_formatted(message)"],"metadata":{"id":"lvgURX-XYG0g"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["await main()"],"metadata":{"id":"zsDu7EEQP0J_"}},{"cell_type":"markdown","source":["Once you have imported the file as a module, you can use the functions and variables that are defined in the file.\n","\n","2. **Run the files as scripts.** This is a bit more complicated, but it gives you more control over how the files are executed. You can run a .py file as a script by using the `!python` command. For example, if you have a .py file called `my_script.py`, you can run it as follows:"],"metadata":{"id":"vEFOjQK3RVEq"}},{"cell_type":"code","source":["!python my_script.py"],"outputs":[],"execution_count":null,"metadata":{"id":"1V8RlAKyRVEq"}},{"cell_type":"markdown","source":["This will run the `my_script.py` file and print the output to the console.\n","\n","Here are the steps on how to use multiple .py files in Google Colab:\n","\n","1. Save your .py files to Google Drive.\n","2. In your Google Colab notebook, mount your Google Drive.\n","3. Import the .py files as modules or run them as scripts.\n","4. Use the functions and variables that are defined in the .py files.\n","\n","Here is an example of how to use multiple .py files in Google Colab:"],"metadata":{"id":"vhCDNVmrRVEq"}},{"cell_type":"code","source":["# Import the .py files as modules\n","import my_module\n","import my_other_module\n","\n","# Use the functions and variables that are defined in the .py files\n","print(my_module.hello_world())\n","print(my_other_module.sum_numbers(1, 2))"],"outputs":[],"execution_count":null,"metadata":{"id":"TJP_qv-1RVEq"}},{"cell_type":"markdown","source":["This code will print the following output to the console:\n","\n","```\n","Hello, world!\n","3\n","```\n","\n","I hope this helps! Let me know if you have any other questions."],"metadata":{"id":"YHh67Q0nRVEr"}}],"metadata":{"colab":{"provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}